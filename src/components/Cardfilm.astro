---
import { allFilms } from "../../backend.mjs"; 

const films = await allFilms();
---

<section class="py-12 bg-[#0A1A4B] text-white">
    <h2 class="text-center text-4xl font-bold mb-6">Films en Programmation</h2>

    <p class="text-center text-white">Test affichage HTML !</p>

    {films.length > 0 ? (
        <p class="text-center text-green-400">Films trouv√©s : {films.length}</p>
    ) : (
        <p class="text-center text-red-400">Aucun film trouv√©.</p>
    )}
</section>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        console.log("‚úÖ JavaScript charg√© !");
  
        const nextBtn = document.getElementById("nextBtn");
        const prevBtn = document.getElementById("prevBtn");
        const carousel = document.getElementById("carousel-container");
  
        console.log("üîç V√©rification des √©l√©ments :", { nextBtn, prevBtn, carousel });
  
        if (!nextBtn || !prevBtn || !carousel) {
            console.error("‚ùå Erreur : Les √©l√©ments du carrousel sont introuvables !");
            return;
        }
  
        let currentIndex = 0;
        const totalSlides = carousel.children.length;
  
        nextBtn.addEventListener("click", () => {
            if (currentIndex < totalSlides - 1) {
                currentIndex++;
                updateCarousel();
            }
        });
  
        prevBtn.addEventListener("click", () => {
            if (currentIndex > 0) {
                currentIndex--;
                updateCarousel();
            }
        });
  
        function updateCarousel() {
            if (!carousel) return;
            const offset = -currentIndex * 100;
            carousel.style.transform = `translateX(${offset}%)`;
        }
  
        console.log("‚úÖ Les √©v√©nements ont bien √©t√© ajout√©s !");
    });
  </script>
  