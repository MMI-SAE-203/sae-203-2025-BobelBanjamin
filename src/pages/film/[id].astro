---
import { getFilm } from "../../../backend.mjs";
import Layout from '../../layouts/Layout.astro';

const { id } = Astro.params;
const film = await getFilm(id);
---

<Layout>
<article class="max-w-4xl mx-auto p-6 bg-[#312345] rounded-lg shadow-lg text-white">
    <h1 class="text-3xl font-bold">{film.titre_film}</h1>
    <p class="text-gray-400">🎬 Réalisé par : {film.realisateur}</p>
    <p class="text-gray-400">📅 Sortie : {film.sortie}</p>
    <p class="text-gray-400">🎭 Genre : {film.genre ? film.genre.join(", ") : "Non précisé"}</p>
    <p class="text-gray-400">⏳ Durée : {film.duree} min</p>

    <div class="mt-6">
        <img class="w-full h-[400px] object-cover rounded-lg" src={film.imgUrl} alt={`Affiche de ${film.titre_film}`} />
    </div>

    <section class="mt-6">
        <h2 class="text-xl font-semibold">Synopsis</h2>
        <p class="text-gray-300">{film.synopsis}</p>
    </section>

    <!-- Lien vers la bande-annonce YouTube -->
    {film.ba ? (
        <section class="mt-6 text-center">
            <h2 class="text-xl font-semibold">🎥 Bande-annonce</h2>
            <a href={film.ba} target="_blank" class="mt-4 inline-block bg-red-500 text-white px-6 py-3 rounded-lg text-lg font-bold hover:bg-red-600 transition">
                📺 Regarder sur YouTube
            </a>
        </section>
    ) : (
        <p class="text-gray-400 mt-4 text-center">🎥 Aucune bande-annonce disponible.</p>
    )}
</article>
</Layout>
