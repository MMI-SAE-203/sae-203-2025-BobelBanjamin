---
import { getActivite } from "../../../backend.mjs";
import Layout from '../../layouts/Layout.astro';

const { id } = Astro.params;
const activite = await getActivite(id) ?? {}; // ğŸ”¹ Assure que `activite` est toujours un objet
---

<Layout>
<section class="max-w-6xl mx-auto p-8 bg-[#1E1B3A] rounded-lg shadow-lg text-white mt-10">
    
    <!-- âœ… VÃ©rification si l'activitÃ© existe -->
    {activite && activite.nom ? (
        <>
            <!-- âœ… Titre -->
            <h1 class="text-4xl font-bold text-center mb-8 text-[#FF4E78]">{activite.nom}</h1>

            <!-- âœ… Grille principale -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                
                <!-- ğŸ“¸ Image de l'activitÃ© -->
                <div class="flex flex-col items-center md:items-start">
                    <img class="w-full max-w-md rounded-lg shadow-md border-2 border-[#FF4E78]" 
                         src={activite.imgUrl ?? "/default-activity.png"} 
                         alt={`Image de ${activite.nom}`} />
                </div>

                <!-- ğŸ“ Infos de l'ActivitÃ© -->
                <div class="space-y-4">
                    <p class="text-gray-300 text-lg"><strong>ğŸ“… Date :</strong> {activite.date_act ?? "Non prÃ©cisÃ©"}</p>
                    <p class="text-gray-300 text-lg"><strong>ğŸ“ Lieu :</strong> {activite.lieu ?? "Non prÃ©cisÃ©"}</p>
                    <p class="text-gray-300 text-lg"><strong>â³ DurÃ©e :</strong> {activite.duree ?? "Non prÃ©cisÃ©e"} min</p>
                    <p class="text-gray-300 text-lg"><strong>ğŸŸ AccÃ¨s :</strong> {activite.acces ?? "Non spÃ©cifiÃ©"}</p>
                </div>
            </div>

            <!-- ğŸ“ Description complÃ¨te -->
            <section class="mt-10">
                <h2 class="text-2xl font-semibold text-[#A3CF00]">ğŸ“ Description</h2>
                <p class="text-gray-300 text-lg mt-3 leading-relaxed">{activite.description ?? "Aucune description disponible."}</p>
            </section>
        </>
    ) : (
        <p class="text-red-500 text-center text-xl font-semibold">âŒ ActivitÃ© introuvable.</p>
    )}
</section>
</Layout>
